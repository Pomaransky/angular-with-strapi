<app-settings class="absolute top-4 right-4" />
<div class="flex justify-center items-center h-screen">
  <p-card class="p-6 sm:w-[400px]">
    <ng-template #header>
      <div class="flex flex-col items-center justify-center">
        <img src="/logo_big.svg" alt="Pulsar" class="w-40" />
      </div>
    </ng-template>
    <ng-template #content>
      <form
        [formGroup]="registerForm"
        (ngSubmit)="onRegister()"
        class="flex flex-col gap-4"
      >
        <app-input-field
          [label]="'register.username' | translate"
          inputId="username"
          formControlName="username"
          [placeholder]="'register.usernamePlaceholder' | translate"
          [validationMessages]="validations.username"
        />

        <app-input-field
          [label]="'register.email' | translate"
          inputId="email"
          type="email"
          formControlName="email"
          [placeholder]="'register.emailPlaceholder' | translate"
          [validationMessages]="validations.email"
        />

        <app-input-field
          [label]="'register.password' | translate"
          inputId="password"
          type="password"
          formControlName="password"
          [placeholder]="'register.passwordPlaceholder' | translate"
          [validationMessages]="validations.password"
        />

        <app-input-field
          [label]="'register.confirmPassword' | translate"
          inputId="confirmPassword"
          type="password"
          formControlName="confirmPassword"
          [placeholder]="'register.confirmPasswordPlaceholder' | translate"
          [validationMessages]="validations.confirmPassword"
        />

        <p-button
          type="submit"
          [disabled]="registerForm.invalid || isLoading"
          [loading]="isLoading"
          [label]="'register.register' | translate"
          styleClass="w-full p-button-lg mt-2"
          icon="pi pi-user-plus"
        ></p-button>

        @if (errorMessage) {
          <div class="mt-5">
            <p-message
              severity="error"
              [text]="errorMessage"
              styleClass="max-w-full"
            ></p-message>
          </div>
        }
      </form>
    </ng-template>
    <ng-template #footer>
      <div class="text-sm mt-1 mr-2">
        <span class="mr-2">{{ "register.haveAccount" | translate }}</span>
        <p-button
          [label]="'register.login' | translate"
          styleClass="linkBtn p-button-xs"
          icon="pi pi-sign-in"
          (click)="onLogin()"
          link
        ></p-button>
      </div>
    </ng-template>
  </p-card>
</div>
