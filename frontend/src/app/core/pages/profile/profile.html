@if (user(); as userData) {
  <p-card>
    <div class="flex items-center space-x-4 mb-6">
      <app-avatar [userData]="userData" size="lg" />
      <div>
        <h2 class="text-2xl font-bold">
          {{ userData.username }}
        </h2>
        <p class="text-gray-400">{{ userData.email }}</p>
      </div>
    </div>

    <div class="space-y-3">
      <app-data-row
        [label]="'profile.documentId' | translate"
        [value]="userData.documentId || '-'"
      />
      <app-data-row
        [label]="'profile.firstName' | translate"
        [value]="userData.firstName || '-'"
      />
      <app-data-row
        [label]="'profile.lastName' | translate"
        [value]="userData.lastName || '-'"
      />
      <app-data-row
        [label]="'profile.birthDate' | translate"
        [value]="(userData.birthDate | date: 'dd/MM/yyyy') || '-'"
      />
      <app-data-row
        [label]="'profile.provider' | translate"
        [value]="userData.provider || '-'"
      />
      <app-data-row
        [label]="'profile.status' | translate"
        [value]="
          (userData.confirmed ? 'profile.confirmed' : 'profile.notConfirmed')
            | translate
        "
        [icon]="
          userData.confirmed ? 'pi pi-check-circle' : 'pi pi-exclamation-circle'
        "
        [valueClass]="
          userData.confirmed
            ? 'text-green-600 font-medium'
            : 'text-amber-600 font-medium'
        "
      />
      <app-data-row
        [label]="'profile.account' | translate"
        [value]="
          (userData.blocked ? 'profile.blocked' : 'profile.active') | translate
        "
        [icon]="userData.blocked ? 'pi pi-ban' : 'pi pi-check'"
        [valueClass]="
          userData.blocked
            ? 'text-red-600 font-medium'
            : 'text-green-600 font-medium'
        "
      />
      <app-data-row
        [label]="'profile.role' | translate"
        [value]="userData.role.name || '-'"
      />
      <app-data-row
        [label]="'profile.aboutMe' | translate"
        [value]="userData.aboutMe || '-'"
        [vertical]="true"
      />
    </div>
    <div class="flex justify-end mt-6">
      <p-button
        [label]="'profile.editProfile' | translate"
        severity="primary"
        icon="pi pi-pencil"
        (click)="onEdit()"
      ></p-button>
    </div>
  </p-card>
} @else if (!isUserLoading() && !user()) {
  <div class="flex justify-center items-center h-64">
    {{ "profile.somethingWentWrong" | translate }}
  </div>
}

@if (isUserLoading()) {
  <div class="flex justify-center items-center h-64">
    <app-spinner [loadingText]="'profile.loadingProfile' | translate" />
  </div>
}

<app-edit-profile-dialog></app-edit-profile-dialog>
